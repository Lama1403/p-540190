import { SwapCard } from "@/components/swap/SwapCard";
import { BridgeCard } from "@/components/bridge/BridgeCard";
import { Background } from "@/components/ui/background";
import { CustomNavbar } from "@/components/layout/CustomNavbar";
import { PageHeader } from "@/components/ui/page-header";
import { useState } from "react";
import { TooltipProvider } from "@/components/ui/tooltip";
import { Sparkles, Star } from "lucide-react";

const Index = () => {
  const [isSwapCompleted, setIsSwapCompleted] = useState(false);
  const [isBridgeCompleted, setIsBridgeCompleted] = useState(false);

  return (
    <Background>
      <CustomNavbar />
      <main 
        style={{
          width: "100%",
          minHeight: "calc(100vh - 72.4px)", // Subtract navbar height
          padding: "1rem",
          display: "flex",
          flexDirection: "column",
          alignItems: "center",
          gap: "2rem"
        }}
      >
        <PageHeader 
          title="Swap & Bridge"
          description="Swap your tokens and bridge them to another network seamlessly"
          className={isBridgeCompleted ? "backdrop-blur-sm bg-white/5" : ""}
        />
        <div className={`flex items-center justify-center gap-8 flex-wrap w-full ${isBridgeCompleted ? "backdrop-blur-sm bg-white/5" : ""}`}>
          <TooltipProvider delayDuration={0}>
            <div className={`w-full max-w-md h-full flex items-center transition-all duration-500 relative ${isSwapCompleted ? 'opacity-50 scale-95 pointer-events-none' : ''}`}>
              <SwapCard onSwapComplete={() => setIsSwapCompleted(true)} isCompleted={isSwapCompleted} />
            </div>
            <div className={`w-full max-w-md h-full flex items-center transition-all duration-500 relative ${!isSwapCompleted ? 'opacity-50 scale-95 pointer-events-none' : ''} ${isBridgeCompleted ? 'opacity-50 scale-95 pointer-events-none' : ''}`}>
              <BridgeCard 
                isDisabled={!isSwapCompleted} 
                onBridgeComplete={() => setIsBridgeCompleted(true)}
              />
            </div>
          </TooltipProvider>
        </div>
        {isBridgeCompleted && (
          <div className="fixed inset-0 z-50 flex items-center justify-center">
            <div className="absolute inset-0 bg-gradient-to-br from-purple-900/80 via-black/80 to-blue-900/80 backdrop-blur-lg" />
            <div className="relative p-8 text-center space-y-8 animate-scale-in">
              <div className="relative">
                <div className="w-24 h-24 rounded-full bg-gradient-to-r from-[#8B5CF6] to-[#D946EF] flex items-center justify-center mx-auto animate-[pulse_2s_cubic-bezier(0.4,0,0.6,1)_infinite]">
                  <Star className="w-12 h-12 text-white animate-[spin_4s_linear_infinite]" />
                </div>
                <div className="absolute -top-4 -right-4">
                  <Sparkles className="w-8 h-8 text-[#F97316] animate-[bounce_2s_infinite]" />
                </div>
                <div className="absolute -bottom-4 -left-4">
                  <svg width="1440" height="73" viewBox="0 0 1440 73" fill="none" xmlns="http://www.w3.org/2000/svg" className="w-8 h-8 text-[#0EA5E9] animate-[bounce_2s_infinite_0.5s]">
                    <mask id="path-1-inside-1_81_2163" fill="white">
                      <path d="M0 0H1440V72.3978H0V0Z"/>
                    </mask>
                    <path d="M1440 71.3978H0V73.3978H1440V71.3978Z" fill="#333333" mask="url(#path-1-inside-1_81_2163)"/>
                    <path d="M82.1261 53.3385C81.137 53.3385 80.3608 53.0603 79.7975 52.5039C79.2411 51.9475 78.9629 51.1438 78.9629 50.0929V46.023H80.3024V50.0414C80.3024 50.7832 80.4604 51.3224 80.7763 51.659C81.0992 51.9956 81.5526 52.1639 82.1364 52.1639C82.7203 52.1639 83.1702 51.9956 83.4862 51.659C83.8022 51.3224 83.9602 50.7832 83.9602 50.0414V46.023H85.279V50.0929C85.279 51.1438 84.9974 51.9475 84.4341 52.5039C83.8777 53.0603 83.1084 53.3385 82.1261 53.3385ZM90.2872 53.3076C89.8407 53.3076 89.432 53.2046 89.0611 52.9985C88.697 52.7924 88.4051 52.4833 88.1853 52.0712C87.9723 51.6522 87.8659 51.1232 87.8659 50.4844C87.8659 49.8387 87.9689 49.3098 88.175 48.8977C88.3879 48.4855 88.6764 48.1798 89.0405 47.9806C89.4045 47.7746 89.8201 47.6715 90.2872 47.6715C90.8299 47.6715 91.3073 47.7883 91.7194 48.0219C92.1384 48.2554 92.4681 48.5817 92.7086 49.0007C92.9558 49.4197 93.0795 49.9143 93.0795 50.4844C93.0795 51.0545 92.9558 51.5526 92.7086 51.9784C92.4681 52.3974 92.1384 52.7237 91.7194 52.9573C91.3073 53.1908 90.8299 53.3076 90.2872 53.3076ZM87.2373 55.2344V47.7334H88.4635V49.0316L88.4223 50.4947L88.5253 51.9578V55.2344H87.2373ZM90.143 52.2051C90.4521 52.2051 90.7268 52.1364 90.9672 51.999C91.2145 51.8617 91.4103 51.6625 91.5546 51.4014C91.6988 51.1404 91.7709 50.8347 91.7709 50.4844C91.7709 50.1272 91.6988 49.8215 91.5546 49.5674C91.4103 49.3064 91.2145 49.1072 90.9672 48.9698C90.7268 48.8324 90.4521 48.7637 90.143 48.7637C89.8339 48.7637 89.5557 48.8324 89.3084 48.9698C89.0611 49.1072 88.8653 49.3064 88.7211 49.5674C88.5768 49.8215 88.5047 50.1272 88.5047 50.4844C88.5047 50.8347 88.5768 51.1404 88.7211 51.4014C88.8653 51.6625 89.0611 51.8617 89.3084 51.999C89.5557 52.1364 89.8339 52.2051 90.143 52.2051ZM97.0005 55.3065C96.4922 55.3065 95.9942 55.2378 95.5065 55.1004C95.0256 54.9699 94.6307 54.7776 94.3216 54.5234L94.8986 53.5549C95.139 53.7541 95.4412 53.9121 95.8053 54.0289C96.1762 54.1525 96.5506 54.2143 96.9284 54.2143C97.5328 54.2143 97.9759 54.0735 98.2575 53.7919C98.5392 53.5171 98.68 53.1015 98.68 52.5451V51.5663L98.783 50.3196L98.7418 49.0728V47.7334H99.9679V52.4009C99.9679 53.3969 99.7138 54.1285 99.2055 54.5955C98.6971 55.0695 97.9622 55.3065 97.0005 55.3065ZM96.8356 52.9882C96.3136 52.9882 95.8396 52.8783 95.4137 52.6585C94.9947 52.4318 94.6616 52.1193 94.4143 51.7208C94.1739 51.3224 94.0537 50.8553 94.0537 50.3196C94.0537 49.7906 94.1739 49.327 94.4143 48.9286C94.6616 48.5302 94.9947 48.2211 95.4137 48.0012C95.8396 47.7814 96.3136 47.6715 96.8356 47.6715C97.3027 47.6715 97.7217 47.7643 98.0927 47.9497C98.4636 48.1352 98.759 48.4237 98.9788 48.8152C99.2055 49.2068 99.3188 49.7082 99.3188 50.3196C99.3188 50.9309 99.2055 51.4358 98.9788 51.8342C98.759 52.2257 98.4636 52.5177 98.0927 52.71C97.7217 52.8955 97.3027 52.9882 96.8356 52.9882ZM97.0314 51.896C97.3542 51.896 97.6427 51.8307 97.8969 51.7002C98.1511 51.5629 98.3468 51.3774 98.4842 51.1438C98.6285 50.9034 98.7006 50.6287 98.7006 50.3196C98.7006 50.0104 98.6285 49.7391 98.4842 49.5056C98.3468 49.2652 98.1511 49.0831 97.8969 48.9595C97.6427 48.829 97.3542 48.7637 97.0314 48.7637C96.7086 48.7637 96.4166 48.829 96.1556 48.9595C95.9014 49.0831 95.7022 49.2652 95.558 49.5056C95.4206 49.7391 95.3519 50.0104 95.3519 50.3196C95.3519 50.6287 95.4206 50.9034 95.558 51.1438C95.7022 51.3774 95.9014 51.5629 96.1556 51.7002C96.4166 51.8307 96.7086 51.896 97.0314 51.896ZM101.867 53.2355V47.7334H103.093V49.248L102.949 48.8049C103.114 48.434 103.372 48.1524 103.722 47.96C104.079 47.7677 104.522 47.6715 105.051 47.6715V48.8977C104.996 48.8839 104.945 48.8771 104.897 48.8771C104.848 48.8702 104.8 48.8667 104.752 48.8667C104.265 48.8667 103.876 49.011 103.588 49.2995C103.299 49.5811 103.155 50.0036 103.155 50.5668V53.2355H101.867ZM109.347 53.2355V52.1227L109.275 51.8857V49.9383C109.275 49.5605 109.162 49.2686 108.935 49.0625C108.708 48.8496 108.365 48.7431 107.905 48.7431C107.596 48.7431 107.29 48.7912 106.988 48.8874C106.692 48.9835 106.442 49.1175 106.235 49.2892L105.731 48.3516C106.026 48.1249 106.376 47.9566 106.782 47.8467C107.194 47.7299 107.62 47.6715 108.059 47.6715C108.856 47.6715 109.471 47.8639 109.904 48.2485C110.343 48.6263 110.563 49.2136 110.563 50.0104V53.2355H109.347ZM107.616 53.3076C107.204 53.3076 106.843 53.2389 106.534 53.1015C106.225 52.9573 105.985 52.7615 105.813 52.5142C105.648 52.2601 105.566 51.975 105.566 51.659C105.566 51.3499 105.638 51.0717 105.782 50.8244C105.933 50.5771 106.177 50.3814 106.514 50.2371C106.85 50.0929 107.297 50.0208 107.853 50.0208H109.45V50.8759H107.946C107.506 50.8759 107.211 50.9481 107.06 51.0923C106.909 51.2297 106.833 51.4014 106.833 51.6075C106.833 51.8411 106.926 52.0265 107.111 52.1639C107.297 52.3013 107.554 52.37 107.884 52.37C108.2 52.37 108.482 52.2978 108.729 52.1536C108.983 52.0093 109.165 51.7964 109.275 51.5148L109.491 52.2875C109.368 52.6104 109.145 52.8611 108.822 53.0397C108.506 53.2183 108.104 53.3076 107.616 53.3076ZM114.761 53.3076C114.232 53.3076 113.754 53.1908 113.328 52.9573C112.909 52.7169 112.58 52.3871 112.339 51.9681C112.099 51.5491 111.979 51.0545 111.979 50.4844C111.979 49.9143 112.099 49.4197 112.339 49.0007C112.58 48.5817 112.909 48.2554 113.328 48.0219C113.754 47.7883 114.232 47.6715 114.761 47.6715C115.221 47.6715 115.633 47.7746 115.997 47.9806C116.361 48.1798 116.65 48.4855 116.863 48.8977C117.076 49.3098 117.182 49.8387 117.182 50.4844C117.182 51.1232 117.079 51.6522 116.873 52.0712C116.667 52.4833 116.382 52.7924 116.018 52.9985C115.654 53.2046 115.235 53.3076 114.761 53.3076ZM114.915 52.2051C115.224 52.2051 115.499 52.1364 115.74 51.999C115.987 51.8617 116.183 51.6625 116.327 51.4014C116.478 51.1404 116.553 50.8347 116.553 50.4844C116.553 50.1272 116.478 49.8215 116.327 49.5674C116.183 49.3064 115.987 49.1072 115.74 48.9698C115.499 48.8324 115.224 48.7637 114.915 48.7637C114.606 48.7637 114.328 48.8324 114.081 48.9698C113.84 49.1072 113.644 49.3064 113.493 49.5674C113.349 49.8215 113.277 50.1272 113.277 50.4844C113.277 50.8347 113.349 51.1404 113.493 51.4014C113.644 51.6625 113.84 51.8617 114.081 51.999C114.328 52.1364 114.606 52.2051 114.915 52.2051ZM116.584 53.2355V51.9372L116.636 50.4741L116.533 49.011V45.5902H117.811V53.2355H116.584ZM122.298 53.3076C121.687 53.3076 121.151 53.1874 120.691 52.947C120.237 52.6997 119.884 52.3631 119.629 51.9372C119.382 51.5113 119.258 51.0271 119.258 50.4844C119.258 49.9349 119.379 49.4506 119.619 49.0316C119.866 48.6057 120.203 48.2726 120.629 48.0322C121.062 47.7917 121.553 47.6715 122.102 47.6715C122.638 47.6715 123.115 47.7883 123.534 48.0219C123.953 48.2554 124.283 48.5851 124.524 49.011C124.764 49.4369 124.884 49.9383 124.884 50.5153C124.884 50.5703 124.881 50.6321 124.874 50.7008C124.874 50.7695 124.87 50.8347 124.864 50.8966H120.278V50.0414H124.184L123.679 50.3093C123.686 49.9933 123.62 49.7151 123.483 49.4747C123.346 49.2342 123.157 49.0453 122.916 48.908C122.683 48.7706 122.411 48.7019 122.102 48.7019C121.786 48.7019 121.508 48.7706 121.268 48.908C121.034 49.0453 120.849 49.2377 120.711 49.485C120.581 49.7254 120.515 50.0104 120.515 50.3402V50.5462C120.515 50.8759 120.591 51.1679 120.742 51.422C120.893 51.6762 121.106 51.872 121.381 52.0093C1
